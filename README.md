# NFSæŒ‚è½½å’ŒqBittorrentè‡ªåŠ¨å¯åŠ¨æœåŠ¡

è¿™æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–è„šæœ¬é›†åˆï¼Œç”¨äºåœ¨Linuxç³»ç»Ÿä¸Šè‡ªåŠ¨æŒ‚è½½NFSå­˜å‚¨å¹¶å¯åŠ¨qBittorrentå®¹å™¨ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ”„ è‡ªåŠ¨æ£€æµ‹å’ŒæŒ‚è½½NFSå­˜å‚¨
- âœ… éªŒè¯æŒ‚è½½ç‚¹å†…å®¹ï¼ˆæ£€æŸ¥Moviesæ–‡ä»¶å¤¹ï¼‰
- ğŸ³ è‡ªåŠ¨å¯åŠ¨qBittorrent Dockerå®¹å™¨
- ğŸ” å®¹å™¨å†…NFSè®¿é—®éªŒè¯
- ğŸš€ systemdæœåŠ¡é›†æˆ
- ğŸ“ è¯¦ç»†çš„æ—¥å¿—è®°å½•

## å¿«é€Ÿå®‰è£…

### æ¨èå®‰è£…æ–¹æ³•

```bash
# æ–¹æ³•1: ä¸‹è½½åˆ°æœ¬åœ°å†æ‰§è¡Œï¼ˆæ¨èï¼‰
wget https://raw.githubusercontent.com/24kbrother/nfs_and_qbit/main/install.sh
bash install.sh

# æ–¹æ³•2: å…‹éš†ä»“åº“
git clone https://github.com/24kbrother/nfs_and_qbit.git
cd nfs_and_qbit
bash install.sh
```

### ä¸€é”®å®‰è£…ï¼ˆå¯èƒ½æœ‰é—®é¢˜ï¼‰

```bash
# æ³¨æ„ï¼šé€šè¿‡ç®¡é“æ‰§è¡Œå¯èƒ½æ— æ³•æ­£å¸¸è¾“å…¥
curl -fsSL https://raw.githubusercontent.com/24kbrother/nfs_and_qbit/main/install.sh | bash
```

## é…ç½®è¯´æ˜

### å®‰è£…é…ç½®

å®‰è£…è¿‡ç¨‹ä¸­éœ€è¦è¾“å…¥ä»¥ä¸‹é…ç½®ï¼š

- **NFSæœåŠ¡å™¨IPåœ°å€** (å¿…å¡«): ä¾‹å¦‚ 192.168.1.100
- **NFSæœåŠ¡å™¨è·¯å¾„** (å¿…å¡«): ä¾‹å¦‚ /volume1/Media
- **æœ¬åœ°æŒ‚è½½ç‚¹** (å¯é€‰): é»˜è®¤ /vol02/media
- **éªŒè¯æ–‡ä»¶å¤¹** (å¯é€‰): é»˜è®¤ Movies
- **qBittorrentå®¹å™¨å** (å¯é€‰): é»˜è®¤ qbittorrent

**å›ºå®šé…ç½®**:
- GitHubä»“åº“åœ°å€: `24kbrother/nfs_and_qbit`
- å®‰è£…ç›®å½•: `/root/nfs_and_qbit`
- æœåŠ¡åç§°: `nfs-qbit`

### è‡ªå®šä¹‰é…ç½®

å®‰è£…è¿‡ç¨‹ä¸­ä¼šæç¤ºæ‚¨è¾“å…¥ï¼š
- **NFSæœåŠ¡å™¨IPåœ°å€** (å¿…å¡«)
- **NFSæœåŠ¡å™¨è·¯å¾„** (å¿…å¡«)
- æœ¬åœ°æŒ‚è½½ç‚¹ (å¯é€‰)
- éªŒè¯æ–‡ä»¶å¤¹ (å¯é€‰)
- qBittorrentå®¹å™¨å (å¯é€‰)

**å®‰è£…æµç¨‹**:
1. å…ˆä¸‹è½½è„šæœ¬æ–‡ä»¶ï¼ˆç½‘ç»œæ£€æŸ¥ï¼‰
2. é…ç½®NFSè®¾ç½®
3. éƒ¨ç½²åˆ°å›ºå®šç›®å½•

## ä½¿ç”¨æ–¹æ³•

### æœåŠ¡ç®¡ç†

```bash
# å¯åŠ¨æœåŠ¡
systemctl start nfs-qbit

# åœæ­¢æœåŠ¡
systemctl stop nfs-qbit

# æŸ¥çœ‹çŠ¶æ€
systemctl status nfs-qbit

# æŸ¥çœ‹æ—¥å¿—
journalctl -u nfs-qbit -f

# é‡å¯æœåŠ¡
systemctl restart nfs-qbit
```

### æ‰‹åŠ¨æ‰§è¡Œ

```bash
# è¿›å…¥å®‰è£…ç›®å½•
cd /root/nfs_and_qbit

# æ‰‹åŠ¨æ‰§è¡ŒNFSæŒ‚è½½
./mount-nfs-retry.sh

# æ‰‹åŠ¨æ‰§è¡ŒqBittorrentå¯åŠ¨
./start-qbit-after-nfs.sh

# æ‰§è¡Œå®Œæ•´æµç¨‹
./start-nfs-and-qbit.sh
```

## è„šæœ¬è¯´æ˜

### mount-nfs-retry.sh
- æ£€æµ‹NFSæœåŠ¡å¯ç”¨æ€§
- è‡ªåŠ¨æŒ‚è½½NFSå­˜å‚¨
- éªŒè¯Moviesæ–‡ä»¶å¤¹å­˜åœ¨
- å¤±è´¥æ—¶è‡ªåŠ¨é‡è¯•

### start-qbit-after-nfs.sh
- ç­‰å¾…NFSæŒ‚è½½å®Œæˆ
- éªŒè¯å®¹å™¨å†…NFSè®¿é—®
- å¯åŠ¨qBittorrentå®¹å™¨
- å®¹å™¨é‡å¯éªŒè¯

### start-nfs-and-qbit.sh
- ä¸»æ§åˆ¶è„šæœ¬
- æŒ‰é¡ºåºæ‰§è¡ŒæŒ‚è½½å’Œå¯åŠ¨
- é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•

## å¸è½½

```bash
# è¿è¡Œå¸è½½è„šæœ¬
bash uninstall.sh
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **NFSæŒ‚è½½å¤±è´¥**
   - æ£€æŸ¥NFSæœåŠ¡å™¨åœ°å€å’Œè·¯å¾„
   - ç¡®è®¤ç½‘ç»œè¿æ¥æ­£å¸¸
   - æŸ¥çœ‹ `/var/log/mount-nfs-retry.log`

2. **qBittorrentå®¹å™¨å¯åŠ¨å¤±è´¥**
   - ç¡®è®¤DockeræœåŠ¡è¿è¡Œ
   - æ£€æŸ¥å®¹å™¨åç§°æ˜¯å¦æ­£ç¡®
   - éªŒè¯NFSæŒ‚è½½ç‚¹æƒé™

3. **Moviesæ–‡ä»¶å¤¹ä¸å­˜åœ¨**
   - ç¡®è®¤NFSæœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶å¤¹è·¯å¾„
   - æ£€æŸ¥æŒ‚è½½ç‚¹å†…å®¹

### æ—¥å¿—æŸ¥çœ‹

```bash
# æŸ¥çœ‹NFSæŒ‚è½½æ—¥å¿—
tail -f /var/log/mount-nfs-retry.log

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
journalctl -u nfs-qbit -f

# æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—
journalctl -f
```

## ç³»ç»Ÿè¦æ±‚

- Linuxç³»ç»Ÿï¼ˆæ”¯æŒsystemdï¼‰
- Git
- Dockerï¼ˆå¯é€‰ï¼Œç”¨äºqBittorrentï¼‰
- NFSå®¢æˆ·ç«¯å·¥å…·

## è®¸å¯è¯

MIT License

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

## æ›´æ–°æ—¥å¿—

### v1.0.0
- åˆå§‹ç‰ˆæœ¬
- æ”¯æŒNFSè‡ªåŠ¨æŒ‚è½½
- æ”¯æŒqBittorrentè‡ªåŠ¨å¯åŠ¨
- systemdæœåŠ¡é›†æˆ 